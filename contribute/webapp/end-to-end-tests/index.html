<!DOCTYPE html>





<html>
    <head>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> End-to-End Testing</title>
<meta name="viewport" content="width=device-width, initial-scale=1">   
<meta http-equiv="content-language" content="en-us" />


<link rel="canonical" href="../../../contribute/webapp/end-to-end-tests/" />

<link rel="shortcut icon" type="image/png" href="../../../img/favicon-32x32.png" />

<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet">


<link rel="stylesheet" href="../../../css/bootstrap.min.css">
<link rel="stylesheet" href="../../../css/tabs.css">
<link rel="stylesheet" href="../../../css/bar.css">
<link rel="stylesheet" href="../../../css/styles.css">
<link rel="stylesheet" href="../../../css/code.css">
<link rel="stylesheet" href="../../../css/note.css">


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="../../../js/tabs.js"></script>
<script src="../../../js/main.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
<script async src="//cdn.bizible.com/scripts/bizible.js"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-64458817-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-64458817-2');
</script>


<script type="text/javascript">
    (function() {
    var didInit = false;
    function initMunchkin() {
    if(didInit === false) {
    didInit = true;
    Munchkin.init('161-FBE-733');
    }
    }
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
    initMunchkin();
    }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>


<script type="text/javascript" charset="utf-8">
    var _eiq = _eiq || [];
    var _engagio_settings = {
      accountId: "cb6a404b72e9141b70d1f82abc04db92b4e56238"
    };
    (function() {
      var ei = document.createElement('script'); ei.type = 'text/javascript'; ei.async = true;
      ei.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'web-analytics.engagio.com/js/ei.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ei, s);
    })();
  </script>
    </head>
<body>
    <header>
    <a href="../../../"><img src="../../../img/logo.svg" alt="Mattermost Logo" width="212px"></a>
    <div class="header__menu-toggle">
        <i class="fa fa-bars"></i>
    </div>
    <ul class="header__links--right">
        <li><a href="../../../">Home</a></li>
        
            
            
            
                
                    <li class="active"><a href="../../../contribute/getting-started">Contribute</a></li>
                
            
        
            
            
            
                
                    <li><a href="../../../integrate/getting-started">Integrate</a></li>
                
            
        
            
            
            
                
                    <li><a href="../../../extend/getting-started">Extend</a></li>
                
            
        
            
            
            
                
                    <li><a href="../../../blog">Blog</a></li>
                
            
        
            
            
            
                
                    <li><a href="https://docs.mattermost.com/">Admin Docs</a></li>
                
            
        
    </ul>
</header>




    <div id="wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-3 sidebar">
    <div class="sidebar__menu-toggle">
        End-to-End Testing
        <i class="fa fa-bars pull-right"></i>
    </div>
    <div class="row sidebar__links">
        
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="../../../contribute/getting-started/"> Getting Started</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/contributions-without-ticket/"> Contributions Without Ticket</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/contribution-checklist/"> Contribution Checklist</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/inactive-contributions/"> Inactive Contributions</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/core-committers/"> Core Committers</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/code-review/"> Code Review</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/labels/"> Labels</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/branching/"> Mattermost tick-tock Branching Strategy</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/getting-started/slash-commands/"> Slash Commands</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="../../../contribute/server/"> Server</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-setup/"> Developer Setup</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-workflow/"> Server Workflow</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/rest-api/"> REST API</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/system_console/"> System Console</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/dependencies/"> Dependencies</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/cli-commands/"> CLI Commands</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/plugins/"> Plugins</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-setup/arch/"> </a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-setup/centos/"> </a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-setup/osx/"> </a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-setup/ubuntu/"> </a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-setup/windows-wsl/"> </a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/server/developer-setup/windows/"> </a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                </ul>
            
                
                

                
                
                    
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-minus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="../../../contribute/webapp/"> Web App</a>
                    
                </span>
                <ul class="sub-menu" style="display: block">
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/webapp/developer-setup/"> Developer Setup</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/webapp/developer-workflow/"> Web App Workflow</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/webapp/build-component/"> Build a Component</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/webapp/unit-testing/"> Unit Testing</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        
                            
                        

                        
                            
                        

                        <span class="item active">
                            <i class="sub-menu__toggle fa fa-minus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a class="active" href="../../../contribute/webapp/end-to-end-tests/"> End-to-End Testing</a></span>
                            
                        </span>
                        <ul class="sub-menu" style="display: block">
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/webapp/webapp-to-redux/"> Migrating to Redux</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="../../../contribute/mobile/"> Mobile Apps</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="../../../contribute/mobile/developer-setup/"> Developer Setup</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                                <a class="item " href="../../../contribute/mobile/developer-setup/developer-workflow/">Mobile Apps Workflow</a>
                            
                                <a class="item " href="../../../contribute/mobile/developer-setup/makefile/">Makefile Commands</a>
                            
                                <a class="item " href="../../../contribute/mobile/developer-setup/run-on-device/">Run on a Device</a>
                            
                                <a class="item " href="../../../contribute/mobile/developer-setup/troubleshooting/">Troubleshooting</a>
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="../../../contribute/mobile/build-your-own/"> Build Your Own App</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                                <a class="item " href="../../../contribute/mobile/build-your-own/preparation/">Build Preparations</a>
                            
                                <a class="item " href="../../../contribute/mobile/build-your-own/environment-vars/">Environment Variables</a>
                            
                                <a class="item " href="../../../contribute/mobile/build-your-own/assets-white-label/">Assets &amp; White Labeling</a>
                            
                                <a class="item " href="../../../contribute/mobile/build-your-own/android/">Build the Android App</a>
                            
                                <a class="item " href="../../../contribute/mobile/build-your-own/ios/">Build the iOS App</a>
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                            
                                <a href="../../../contribute/mobile/push-notifications/"> Setup Push Notifications</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                                <a class="item " href="../../../contribute/mobile/push-notifications/android/">Android Push Notifications</a>
                            
                                <a class="item " href="../../../contribute/mobile/push-notifications/ios/">iOS Push Notifications</a>
                            
                                <a class="item " href="../../../contribute/mobile/push-notifications/service/">Push Notification Service</a>
                            
                                <a class="item " href="../../../contribute/mobile/push-notifications/migrate-gcm-fcm/">Migrate GCM to FCM</a>
                            
                        </ul>
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="../../../contribute/redux/"> Redux</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/redux/developer-setup/"> Developer Setup</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/redux/developer-workflow/"> Redux Workflow</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/redux/actions/"> Actions</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/redux/reducers/"> Reducers</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/redux/selectors/"> Selectors</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/redux/react-redux/"> Using Redux with React</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/redux/redux-to-flow/"> Migrating to Flow</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style=""></i>
                    
                        <a href="../../../contribute/desktop/"> Desktop App</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/desktop/developer-setup/"> Developer Setup</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/desktop/debugging/"> Debugging</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                        
                        

                        
                        

                        
                            
                        

                        <span class="item ">
                            <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                            
                                <a href="../../../contribute/desktop/code-signing/"> Code Signing</a></span>
                            
                        </span>
                        <ul class="sub-menu" >
                            
                        </ul>
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="../../../contribute/devtalks/"> Mattermost Dev Talks</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="../../../contribute/team_contributions/"> Mattermost Contributors</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
                
                

                
                

                
                    
                

                <span class="item ">
                    <i class="sub-menu__toggle fa fa-plus-square-o" aria-hidden="true" style="display: none"></i>
                    
                        <a href="../../../contribute/mvp/"> MVP</a>
                    
                </span>
                <ul class="sub-menu" >
                    
                </ul>
            
        
    </div>
</div>

                <div class="col-lg-9 doc-content">
                    
<a href="https://github.com/mattermost/mattermost-developer-documentation/edit/master/site/content/contribute/webapp/end-to-end-tests.md" class="float-right edit-github">
    Edit on GitHub
</a>


                    <h1 class="mt-0 doc-title">
                        End-to-End Testing
                    </h1>
                    <p>This page describes how to run End-to-End (E2E) testing and to build tests for a section or page of the Mattermost web application.  Under the hood, we are using <a href="https://www.cypress.io/">Cypress</a> which is &ldquo;fast, easy and reliable testing for anything that runs in a browser.&rdquo;</p>
<p>Not familiar with Cypress? Here is some documentation that will help you get started:</p>
<ul>
<li><a href="https://docs.cypress.io/guides/overview/why-cypress.html#In-a-nutshell">Developer Guide</a></li>
<li><a href="https://docs.cypress.io/api/api/table-of-contents.html">API Reference</a></li>
</ul>
<h2 id="quick-overview-on-how-to-run-e2e-testing">Quick Overview on How to Run E2E Testing&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#quick-overview-on-how-to-run-e2e-testing"></i></a> </h2>
<ol>
<li>Run a local server instance by initiating <code>make run</code> to the mattermost-server folder. Confirm that the instance has started successfully.</li>
</ol>
<ul>
<li>Run <code>make test-data</code> to preload your server instance with initial seed data.  Generated data such as users are typically used for logging, etc.</li>
<li>Each test case should handle the required system or account settings, but in case you encountered some unexpected error while testing, you may want to run the server with default config based on <code>mattermost-server/config/default.json</code>).</li>
</ul>
<ol start="2">
<li>Change directory to <code>mattermost-webapp/e2e</code>, install npm dependencies by <code>npm i</code> and initiate <code>npm run cypress:run</code> in the command line. This will start full E2E testing. To run partial testing, you may initiate <code>npm run cypress:open</code> in the command line which will open its desktop app.  From there, you may select particular tests you would like to run.</li>
<li>Tests are executed according to your selection and will display whether the tests passed or failed.</li>
</ol>
<h2 id="folder-and-file-structures">Folder and File Structures&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#folder-and-file-structures"></i></a> </h2>
<p>The folder structure is mostly based on the <a href="https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests.html#Folder-Structure">Cypress scaffold</a> which was created on initial run.  Folders and files are:</p>
<pre><code>|-- e2e
  |-- cypress
    |-- fixtures
    |-- integration
    |-- plugins
    |-- support
    |-- utils
  |-- cypress.json
  |-- package-lock.json
  |-- package.json
</code></pre><ul>
<li><code>/e2e/cypress/fixtures</code> or <a href="https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests.html#Fixture-Files">Fixture Files</a>:
<ul>
<li>Fixtures are used as external pieces of static data that can be used by tests.</li>
<li>Typically used with the <code>cy.fixture()</code> command and most often when stubbing Network Requests.</li>
</ul>
</li>
<li><code>/e2e/cypress/integration</code> or <a href="https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests.html#Test-files">Test Files</a>
<ul>
<li>To start writing tests,
<ul>
<li>simply create a new file (e.g. <code>login_spec.js</code>) within <code>/e2e/cypress/integration</code> folder and;</li>
<li>refresh tests list in the Cypress Test Runner and a new file should have appeared in the list.</li>
</ul>
</li>
<li>Subfolder naming convention depends on test grouping, which is usually based on the name of tab in the Release Testing spreadsheet (e.g. <code>/e2e/cypress/integration/messaging/</code> for &ldquo;Messaging&rdquo; tab).</li>
<li>Test cases that require an enterprise license should fall under <code>/e2e/cypress/integration/enterprise/</code>. This is to easily identify license requirements, both during local development and production testing for enterprise features.</li>
</ul>
</li>
<li><code>/e2e/cypress/plugins</code> or <a href="https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests.html#Plugin-files">Plugin Files</a>
<ul>
<li>A convenience mechanism that automatically include the plugins before running every single spec file.</li>
</ul>
</li>
<li><code>/e2e/cypress/support</code> or <a href="https://docs.cypress.io/guides/core-concepts/writing-and-organizing-tests.html#Support-file">Support Files</a>
<ul>
<li>The support file is a place to put reusable behaviour such as Custom Commands or global overrides that are wished to be applied and available to all of spec files.</li>
</ul>
</li>
<li><code>/e2e/cypress/utils</code>
<ul>
<li>A place for common utility functions</li>
</ul>
</li>
<li><code>/e2e/cypress.json</code>
<ul>
<li>Use to store Cypress <a href="https://docs.cypress.io/guides/references/configuration.html#Options">configuration</a></li>
</ul>
</li>
<li><code>/e2e/package.json</code>
<ul>
<li>Use to store all dependencies related to Cypress end-to-end testing</li>
</ul>
</li>
</ul>
<h2 id="what-requires-an-e2e-test">What requires an E2E Test?&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#what-requires-an-e2e-test"></i></a> </h2>
<ol>
<li>Test cases defined in help-wanted E2E issues, which are drawn from the release testing list</li>
<li>New features or stories</li>
<li>Bug fixes</li>
<li>Cases that are not covered by unit or integration tests</li>
</ol>
<h2 id="interested-in-contributing-to-e2e-testing-through-help-wanted-tickets">Interested in Contributing to E2E Testing through Help Wanted Tickets&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#interested-in-contributing-to-e2e-testing-through-help-wanted-tickets"></i></a> </h2>
<ol>
<li>All help wanted tickets are under <a href="https://mattermost.com/pl/help-wanted-mattermost-server">server repository&rsquo;s GitHub issues</a>. Look for issues with <code>Area/E2E Tests</code> and <code>Up For Grabs</code> labels, and comment to let everyone know you&rsquo;re working on it.</li>
<li>Each ticket is filled up with specific test steps and verifications that need to be accomplished as a minimum requirement.  Additional steps and assertions for robust test implementation are much welcome.</li>
<li>Join our channel at <a href="https://community.mattermost.com/core/channels/ui-test-automation">UI Test Automation</a> and talk to us as fellow contributors, and collaborate and learn with one another.</li>
</ol>
<h2 id="guide-for-writing-e2e-testing">Guide for Writing E2E Testing&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#guide-for-writing-e2e-testing"></i></a> </h2>
<h3 id="where-should-the-new-test-go">Where should the new test go?&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#where-should-the-new-test-go"></i></a> </h3>
<p>Inside <code>e2e/cypress/integration</code> is where all of the tests live. Cypress is configured to look for and run tests that match the pattern of <code>*_spec.js</code>, so if you are creating a new test make sure to name it something like <code>my_new_test_spec.js</code> to ensure that it gets picked up.</p>
<p>Inside of the <code>integration</code> directory, there are additional directories that break up the tests roughly by functional areas. If you see something that looks like it describes the functional area of your test, it should probably live inside that directory. From there, look to see if there is already a <code>*_spec.js</code> file that may be similar to what you are testing, it can be very likely that you can add additional tests to a pre-existing file.</p>
<h3 id="writing-specs">Writing Specs&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#writing-specs"></i></a> </h3>
<ol>
<li>
<p>The <a href="https://docs.cypress.io/guides/references/best-practices.html#Selecting-Elements">recommended practice</a> of Cypress is to use <code>data-*</code> attribute to provide context to selectors, but we prefer to use element ID instead.</p>
<ul>
<li>If element ID is not present in the webapp, you may add it in <code>camelCase</code> form with human readable name (e.g. <code>&lt;div id='sidebarTitle'&gt;</code>). Watch out for potential breaking changes in the snapshot of the unit testing.  Run <code>make test</code> to see if all are passing, and run <code>npm run updatesnapshot</code> or <code>npm run test -- -u</code> if necessary to update snapshot testing.</li>
</ul>
</li>
<li>
<p>Add commands or shortcuts to <code>/e2e/cypress/support/commands.js</code> (e.g. <code>toAccountSettingsModal</code>) that makes it easier to access a page, section, modal and etc. by simply using it as <code>cy.toAccountSettingsModal('user-1')</code>.</p>
</li>
<li>
<p>Organize <code>/e2e/cypress/integration</code> with a subfolder to group similar tests.</p>
</li>
<li>
<p>Add a <code>Test Key</code> when describing a test.  In the spec file, it should be written as:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">describe(<span style="color:#c30">&#39;Messaging&#39;</span>, () =&gt; {
    it(<span style="color:#c30">&#39;M15011 - Emojis show as jumbo in reply thread&#39;</span>, () =&gt; {
        <span style="color:#09f;font-style:italic">// Test steps and assertion here
</span><span style="color:#09f;font-style:italic"></span>    }
}
</code></pre></div><p>Where <code>&quot;M15011&quot;</code> is the key and <code>&quot;Emojis show as jumbo in reply thread&quot;</code> is the test description.</p>
<p>The naming convention used is the name of the tab on the release testing spreadsheet e.g. AS = Account Settings; M = Messaging, etc. and the numerical value is from Jira ticket identifier. So <code>&quot;M15011&quot;</code> means &ldquo;Messaging&rdquo; on release testing spreadsheet with <code>MM-15011</code> Jira ticket.</p>
<p>For those writing E2E from help-wanted tickets with <code>Area/E2E Tests</code> label, the <code>Test Key</code> is available in the <a href="https://github.com/mattermost/mattermost-server/issues/10574">GitHub issue itself</a>.</p>
<p><code>Test Key</code> is used to track test cases in our core staff Release Testing spreadsheet, which is linked in the header of the <a href="https://community.mattermost.com/core/channels/release-discussion">Release Discussion channel</a> during release testing.</p>
<p>In cases where <code>Test Key</code> is not given, feel free to add a concise description of a test.</p>
</li>
<li>
<p>Refer to <a href="https://github.com/mattermost/mattermost-webapp/pull/3020/files">this pull request</a> as a guide on how to write and submit an end-to-end testing PR.</p>
</li>
</ol>
<h2 id="troubleshooting">Troubleshooting&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#troubleshooting"></i></a> </h2>
<h3 id="cypress-failed-to-start-after-running-npm-run-cypressrun">Cypress Failed To Start After Running &lsquo;npm run cypress:run&rsquo;&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#cypress-failed-to-start-after-running-npm-run-cypressrun"></i></a> </h3>
<p>Either the command line exits immediately without running any test or it logs out like the following.</p>
<h5 id="error-message">Error message&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#error-message"></i></a> </h5>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">✖  Verifying Cypress can run /Users/user/Library/Caches/Cypress/3.1.3/Cypress.app
   → Cypress Version: 3.1.3
Cypress failed to start.

This is usually caused by a missing library or dependency.
</code></pre></div><h5 id="solution">Solution&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#solution"></i></a> </h5>
<p>Clear node options by initiating <code>unset NODE_OPTIONS</code> in the command line. Running <code>npm run cypress:run</code> should proceed with Cypress testing.</p>
<h5 id="error-message-1">Error message&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#error-message-1"></i></a> </h5>
<p>This error may occur in Ubuntu when running any Cypress spec.</p>
<pre><code>code: 'ENOSPC',
errno: 'ENOSPC',
</code></pre><h5 id="solution-1">Solution&nbsp;<a class="hanchor fa fa-link" ariaLabel="Anchor" href="#solution-1"></i></a> </h5>
<p>Run the following command</p>
<pre><code>echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p
</code></pre>

                </div>
            </div>
        </div>
    </div>
    <footer class="text-center">
    <div class="container-fluid">
        <div class="footer__copyright">© Mattermost, Inc. All Rights Reserved.</div>
        <div class="footer__icons">
            <a href="https://www.facebook.com/Mattermost-2300985916642531/"><i class="fa fa-facebook"></i></a>
            <a href="https://twitter.com/mattermost"><i class="fa fa-twitter"></i></a>
            <a href="https://www.youtube.com/channel/UCNR05H72hi692y01bWaFXNA"><i class="fa fa-youtube"></i></a>
        </div>
    </div>
</footer>

</body>
</html>
